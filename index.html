<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">

<!-- SEO META TAGS -->
<meta name="description" content="Play 2048 Pro+, a modern web-based puzzle game with dark, light, and neon themes. Supports keyboard and mobile swipe controls, high-score saving, and smooth gameplay. Built using HTML, CSS, and JavaScript.">
<meta name="keywords" content="2048 game, web game, puzzle game, JavaScript game, 2048 online, free 2048, HTML CSS JS game">
<meta name="author" content="2048 Pro+ Developer">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>2048 Pro+ | Free Web Puzzle Game</title>

<style>
/* ---------- RESET ---------- */
* {
  box-sizing: border-box;
}

/* ---------- THEMES ---------- */
body.dark {
  background: linear-gradient(135deg, #0f0f0f, #1c1c1c);
  color: white;
}

body.light {
  background: #f2f2f2;
  color: #111;
}

body.neon {
  background: radial-gradient(circle, #050012, #000);
  color: #0ff;
}

/* ---------- GLOBAL ---------- */
body {
  margin: 0;
  font-family: "Segoe UI", Arial, sans-serif;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

/* ---------- HEADER ---------- */
header {
  padding: 15px;
  text-align: center;
  font-size: 22px;
  letter-spacing: 2px;
}

body.dark header {
  background: #111;
  color: white;
}

body.light header {
  background: #ddd;
  color: #111;
}

body.neon header {
  background: #000;
  color: #0ff;
  text-shadow: 0 0 10px #0ff;
}

/* ---------- MAIN ---------- */
main {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* ---------- GAME BOX ---------- */
.game {
  padding: 20px;
  border-radius: 16px;
  max-width: 360px;
  width: 100%;
}

body.dark .game {
  background: #222;
  box-shadow: 0 0 30px rgba(0,0,0,0.7);
}

body.light .game {
  background: #fff;
  color: #111;
  box-shadow: 0 0 20px rgba(0,0,0,0.2);
}

body.neon .game {
  background: #020012;
  border: 1px solid #0ff;
  box-shadow: 0 0 20px #0ff;
}

/* ---------- STATS ---------- */
.stats {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
}

.box {
  padding: 8px 12px;
  border-radius: 8px;
  text-align: center;
  min-width: 90px;
}

body.dark .box {
  background: #333;
}

body.light .box {
  background: #eee;
}

body.neon .box {
  background: #000;
  border: 1px solid #0ff;
}

/* ---------- CONTROLS ---------- */
.controls {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
}

button, select {
  padding: 6px 10px;
  border-radius: 6px;
  border: none;
  cursor: pointer;
  font-weight: bold;
}

/* ---------- GRID ---------- */
.grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
  padding: 10px;
  border-radius: 12px;
}

body.dark .grid {
  background: #111;
}

body.light .grid {
  background: #ddd;
}

body.neon .grid {
  background: #000;
  border: 1px solid #0ff;
}

/* ---------- TILES ---------- */
.tile {
  aspect-ratio: 1;
  border-radius: 8px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: bold;
  font-size: 26px;
  background: #444;
}

/* ---------- TILE COLORS ---------- */
.tile[data-value="2"] { background: #eee4da; color: #111; }
.tile[data-value="4"] { background: #ede0c8; color: #111; }
.tile[data-value="8"] { background: #f2b179; }
.tile[data-value="16"] { background: #f59563; }
.tile[data-value="32"] { background: #f67c5f; }
.tile[data-value="64"] { background: #f65e3b; }
.tile[data-value="128"] { background: #edcf72; color: #111; }
.tile[data-value="256"] { background: #edcc61; color: #111; }
.tile[data-value="512"] { background: #edc850; color: #111; }
.tile[data-value="1024"] { background: #edc53f; color: #111; }
.tile[data-value="2048"] { background: gold; color: #111; }

/* ---------- FOOTER ---------- */
footer {
  text-align: center;
  padding: 12px;
  font-size: 12px;
}

body.dark footer {
  background: #111;
  color: #aaa;
}

body.light footer {
  background: #ddd;
  color: #111;
}

body.neon footer {
  background: #000;
  color: #0ff;
  text-shadow: 0 0 5px #0ff;
}
</style>
</head>

<body class="dark">

<header>
  2048 PRO+ | Free Web Puzzle Game
</header>

<main>
  <div class="game">
    <div class="stats">
      <div class="box">Score<br><span id="score">0</span></div>
      <div class="box">High<br><span id="high">0</span></div>
    </div>

    <div class="controls">
      <button id="restartBtn">Restart</button>
      <select id="themeSelect">
        <option value="dark">Dark</option>
        <option value="light">Light</option>
        <option value="neon">Neon</option>
      </select>
    </div>

    <div class="grid" id="grid"></div>
  </div>
</main>

<footer>
  <p>2048 Pro+ is a free browser-based puzzle game built with HTML, CSS, and JavaScript.</p>
  <p>Play using Arrow Keys, WASD, or swipe gestures on mobile devices.</p>
  <p>Challenge your brain, beat your high score, and enjoy modern theme customization.</p>
  <p>Perfect for students, developers, and puzzle game lovers.</p>
</footer>

<script>
const SIZE = 4;
let board = [];
let score = 0;
let highScore = localStorage.getItem("high2048") || 0;

const grid = document.getElementById("grid");
const scoreDisplay = document.getElementById("score");
const highDisplay = document.getElementById("high");
const themeSelect = document.getElementById("themeSelect");
const restartBtn = document.getElementById("restartBtn");

highDisplay.textContent = highScore;

/* ---------- GAME ---------- */
function init() {
  board = Array.from({ length: SIZE }, () => Array(SIZE).fill(0));
  score = 0;
  addTile();
  addTile();
  draw();
}

function addTile() {
  const empty = [];
  for (let i = 0; i < SIZE; i++) {
    for (let j = 0; j < SIZE; j++) {
      if (board[i][j] === 0) empty.push([i, j]);
    }
  }
  if (!empty.length) return;
  const [x, y] = empty[Math.floor(Math.random() * empty.length)];
  board[x][y] = Math.random() < 0.9 ? 2 : 4;
}

function draw() {
  grid.innerHTML = "";
  scoreDisplay.textContent = score;
  highDisplay.textContent = highScore;

  for (let i = 0; i < SIZE; i++) {
    for (let j = 0; j < SIZE; j++) {
      const tile = document.createElement("div");
      tile.className = "tile";
      tile.dataset.value = board[i][j];
      tile.textContent = board[i][j] === 0 ? "" : board[i][j];
      grid.appendChild(tile);
    }
  }
}

function compress(row) {
  const newRow = row.filter(n => n !== 0);
  while (newRow.length < SIZE) newRow.push(0);
  return newRow;
}

function merge(row) {
  for (let i = 0; i < SIZE - 1; i++) {
    if (row[i] === row[i + 1] && row[i] !== 0) {
      row[i] *= 2;
      score += row[i];
      if (score > highScore) {
        highScore = score;
        localStorage.setItem("high2048", highScore);
      }
      row[i + 1] = 0;
    }
  }
  return row;
}

function moveLeft() {
  let moved = false;
  for (let i = 0; i < SIZE; i++) {
    let row = compress(board[i]);
    row = merge(row);
    row = compress(row);
    if (row.toString() !== board[i].toString()) moved = true;
    board[i] = row;
  }
  return moved;
}

function reverse() {
  board = board.map(r => r.reverse());
}

function transpose() {
  board = board[0].map((_, i) => board.map(r => r[i]));
}

function moveRight() {
  reverse();
  const moved = moveLeft();
  reverse();
  return moved;
}

function moveUp() {
  transpose();
  const moved = moveLeft();
  transpose();
  return moved;
}

function moveDown() {
  transpose();
  const moved = moveRight();
  transpose();
  return moved;
}

function gameOver() {
  for (let i = 0; i < SIZE; i++) {
    for (let j = 0; j < SIZE; j++) {
      if (board[i][j] === 0) return false;
      if (i < SIZE - 1 && board[i][j] === board[i + 1][j]) return false;
      if (j < SIZE - 1 && board[i][j] === board[i][j + 1]) return false;
    }
  }
  return true;
}

/* ---------- KEYBOARD FIXED ---------- */
document.addEventListener("keydown", e => {
  // Stop arrow keys from affecting dropdown or scrolling page
  if (["ArrowLeft", "ArrowRight", "ArrowUp", "ArrowDown"].includes(e.key)) {
    e.preventDefault();
  }

  let moved = false;

  if (["ArrowLeft", "a", "A"].includes(e.key)) moved = moveLeft();
  if (["ArrowRight", "d", "D"].includes(e.key)) moved = moveRight();
  if (["ArrowUp", "w", "W"].includes(e.key)) moved = moveUp();
  if (["ArrowDown", "s", "S"].includes(e.key)) moved = moveDown();

  if (moved) {
    addTile();
    draw();
    if (gameOver()) alert("Game Over! Final Score: " + score);
  }
});

/* ---------- THEME SWITCHER ---------- */
themeSelect.addEventListener("change", () => {
  document.body.classList.remove("dark", "light", "neon");
  document.body.classList.add(themeSelect.value);
});

/* ---------- RESTART ---------- */
restartBtn.addEventListener("click", init);

/* ---------- START ---------- */
init();
</script>


</body>
</html>
